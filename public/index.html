<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="darkreader-lock" />
		<title>CFlair Counter - Professional View Counter</title>
		<meta
			name="description"
			content="Professional serverless view counter with advanced analytics and admin management."
		/>
		<link rel="icon" type="image/png" href="/logo.png" />
		<link rel="apple-touch-icon" href="/logo.png" />
		<meta
			property="og:title"
			content="CFlairCounter - Serverless View Analytics"
		/>
		<meta
			property="og:description"
			content="Professional serverless view counter with real-time analytics and badge generation"
		/>
		<meta property="og:image" content="/logo.png" />
		<meta property="og:type" content="website" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="CFlairCounter" />
		<meta name="twitter:description" content="Serverless View Analytics" />
		<meta name="twitter:image" content="/logo.png" />

		<style>
			/* Professional CSS Framework */
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			:root {
				--primary: #667eea;
				--primary-dark: #5a6fd8;
				--secondary: #764ba2;
				--success: #28a745;
				--warning: #ffc107;
				--danger: #dc3545;
				--info: #17a2b8;
				--light: #f8f9fa;
				--dark: #343a40;
				--white: #ffffff;
				--bg-gradient-start: #e0f2fe;
				--bg-gradient-end: #ddd6fe;
				--card-bg: rgba(255, 255, 255, 0.95);
				--text-color: #343a40;
				--navbar-bg: rgba(255, 255, 255, 0.95);
			}

			/* Dark mode colors */
			[data-theme="dark"] {
				--primary: #8b9dfc;
				--primary-dark: #7589e9;
				--bg-gradient-start: #1a1a2e;
				--bg-gradient-end: #16213e;
				--card-bg: rgba(30, 30, 46, 0.95);
				--text-color: #e0e0e0;
				--navbar-bg: rgba(30, 30, 46, 0.95);
				--dark: #e0e0e0;
				--light: #2a2a3e;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
					Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
				line-height: 1.6;
				color: var(--text-color);
				background: linear-gradient(
					135deg,
					var(--bg-gradient-start) 0%,
					var(--bg-gradient-end) 100%
				);
				min-height: 100vh;
				transition: background 0.3s ease, color 0.3s ease;
			}

			/* Navigation */
			.navbar {
				background: var(--navbar-bg);
				backdrop-filter: blur(10px);
				box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
				position: sticky;
				top: 0;
				z-index: 100;
				transition: background 0.3s ease;
			}

			.nav-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 1rem 2rem;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.nav-brand {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--primary);
				text-decoration: none;
			}

			.nav-links {
				display: flex;
				gap: 2rem;
				align-items: center;
			}

			.nav-link {
				color: var(--dark);
				text-decoration: none;
				font-weight: 500;
				transition: color 0.3s ease;
			}

			.nav-link:hover {
				color: var(--primary);
			}

			.nav-link.active {
				color: var(--primary);
				font-weight: 600;
			}

			/* Container & Layout */
			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 2rem;
			}

			.page {
				display: none;
			}

			.page.active {
				display: block;
			}

			.hero {
				text-align: center;
				color: var(--text-color);
				margin: 4rem 0;
			}

			.hero h1 {
				font-size: 3.5rem;
				margin-bottom: 1rem;
				font-weight: 800;
				text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
				color: var(--primary);
			}

			.hero p {
				font-size: 1.3rem;
				margin-bottom: 2rem;
				opacity: 0.95;
				color: var(--text-color);
			}

			.hero-badges {
				display: flex;
				justify-content: center;
				gap: 1rem;
				flex-wrap: wrap;
				margin-bottom: 2rem;
			}

			.badge {
				background: var(--primary);
				color: white;
				padding: 0.5rem 1rem;
				border-radius: 25px;
				font-size: 0.9rem;
				font-weight: 500;
				box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
			}

			/* Cards */
			.card {
				background: var(--card-bg);
				border-radius: 16px;
				padding: 2rem;
				margin: 2rem 0;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.2);
				transition: background 0.3s ease;
			}

			.card h2 {
				color: var(--primary);
				margin-bottom: 1.5rem;
				font-size: 1.8rem;
			}

			.card h3 {
				color: var(--text-color);
				margin: 1.5rem 0 1rem 0;
				font-size: 1.3rem;
			}

			/* Grid Systems */
			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 1.5rem;
			}

			.feature-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 2rem;
			}

			.stat-item {
				text-align: center;
				background: var(--card-bg);
				padding: 2rem;
				border-radius: 12px;
				border: 2px solid transparent;
				transition: all 0.3s ease;
			}

			.stat-item:hover {
				border-color: var(--primary);
				transform: translateY(-5px);
			}

			.stat-number {
				font-size: 2.5rem;
				font-weight: 800;
				color: var(--primary);
				margin-bottom: 0.5rem;
			}

			.stat-label {
				font-size: 1rem;
				color: var(--text-color);
				font-weight: 500;
			}

			.feature-card {
				background: var(--card-bg);
				padding: 2rem;
				border-radius: 12px;
				text-align: center;
				border: 2px solid var(--light);
				transition: all 0.3s ease;
			}

			.feature-card:hover {
				border-color: var(--primary);
				transform: translateY(-5px);
			}

			.feature-icon {
				font-size: 3rem;
				margin-bottom: 1rem;
			}

			/* Form Elements */
			.form-group {
				margin-bottom: 1.5rem;
			}

			.form-label {
				display: block;
				margin-bottom: 0.5rem;
				font-weight: 600;
				color: var(--dark);
			}

			.form-input {
				width: 100%;
				padding: 0.75rem 1rem;
				border: 2px solid var(--light);
				border-radius: 8px;
				font-size: 1rem;
				transition: border-color 0.3s ease;
				background: var(--card-bg);
				color: var(--text-color);
			}

			.form-input:focus {
				outline: none;
				border-color: var(--primary);
			}

			.form-row {
				display: flex;
				gap: 1rem;
				align-items: end;
				flex-wrap: wrap;
			}

			.form-row .form-group {
				flex: 1;
				min-width: 200px;
			}

			/* Buttons */
			.btn {
				display: inline-block;
				padding: 0.75rem 1.5rem;
				border: none;
				border-radius: 8px;
				font-size: 1rem;
				font-weight: 600;
				text-decoration: none;
				cursor: pointer;
				transition: all 0.3s ease;
				white-space: nowrap;
			}

			.btn-primary {
				background: linear-gradient(
					135deg,
					var(--primary) 0%,
					var(--primary-dark) 100%
				);
				color: white;
			}

			.btn-primary:hover {
				transform: translateY(-2px);
				box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
			}

			.btn-secondary {
				background: var(--light);
				color: var(--dark);
				border: 2px solid var(--light);
			}

			.btn-secondary:hover {
				background: white;
				border-color: var(--primary);
				color: var(--primary);
			}

			.btn-success {
				background: var(--success);
				color: white;
			}

			.btn-danger {
				background: var(--danger);
				color: white;
			}

			.btn-sm {
				padding: 0.5rem 1rem;
				font-size: 0.9rem;
			}

			/* Code blocks */
			.code-block {
				background: var(--dark);
				color: #50fa7b;
				padding: 1.5rem;
				border-radius: 8px;
				font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
				font-size: 0.9rem;
				overflow-x: auto;
				margin: 1rem 0;
				border-left: 4px solid var(--primary);
			}

			.code-block .comment {
				color: #6272a4;
			}

			.code-block .string {
				color: #f1fa8c;
			}

			/* Tables */
			.table {
				width: 100%;
				border-collapse: collapse;
				margin: 1rem 0;
			}

			.table th,
			.table td {
				padding: 1rem;
				text-align: left;
				border-bottom: 1px solid var(--light);
				color: var(--text-color);
			}

			.table th {
				background: var(--light);
				font-weight: 600;
			}

			.table tr:hover {
				background: rgba(102, 126, 234, 0.05);
			}

			/* Modals */
			.modal {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.8);
				z-index: 1000;
				backdrop-filter: blur(5px);
			}

			.modal.active {
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.modal-login {
				background: var(--card-bg);
				padding: 2rem;
				border-radius: 16px;
				width: 90%;
				max-width: 60vw; /* narrow login */
				max-height: 90vh;
				overflow-y: auto;
				animation: modalSlideIn 0.3s ease;
			}

			.modal-content {
				background: var(--card-bg);
				padding: 2rem;
				border-radius: 16px;
				width: 90%;
				max-width: 90vw;
				max-height: 90vh;
				overflow-y: auto;
				animation: modalSlideIn 0.3s ease;
			}

			/* Wider modal used for admin dashboard after login */
			.modal-wide {
				background: var(--card-bg);
				padding: 2rem;
				border-radius: 16px;
				width: 95%;
				max-width: 90vw; /* dashboard-friendly width */
				max-height: 90vh;
				overflow-y: auto;
				animation: modalSlideIn 0.3s ease;
			}

			@keyframes modalSlideIn {
				from {
					transform: translateY(-50px);
					opacity: 0;
				}
				to {
					transform: translateY(0);
					opacity: 1;
				}
			}

			.modal-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 1.5rem;
				padding-bottom: 1rem;
				border-bottom: 2px solid var(--light);
			}

			.modal-title {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--primary);
			}

			.modal-close {
				background: none;
				border: none;
				font-size: 1.5rem;
				cursor: pointer;
				color: var(--dark);
				padding: 0.5rem;
				border-radius: 50%;
				transition: background 0.3s ease;
			}

			.modal-close:hover {
				background: var(--light);
			}

			/* Notifications */
			.notification {
				position: fixed;
				top: 20px;
				right: 20px;
				padding: 1rem 1.5rem;
				border-radius: 8px;
				z-index: 1001;
				display: none;
				min-width: 300px;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				animation: notificationSlideIn 0.3s ease;
			}

			@keyframes notificationSlideIn {
				from {
					transform: translateX(100%);
					opacity: 0;
				}
				to {
					transform: translateX(0);
					opacity: 1;
				}
			}

			.notification.success {
				background: var(--success);
				color: white;
			}

			.notification.error {
				background: var(--danger);
				color: white;
			}

			.notification.info {
				background: var(--info);
				color: white;
			}

			.notification.warning {
				background: var(--warning);
				color: var(--dark);
			}

			/* Loading States */
			.loading {
				opacity: 0.6;
				pointer-events: none;
			}

			.spinner {
				border: 3px solid var(--light);
				border-top: 3px solid var(--primary);
				border-radius: 50%;
				width: 20px;
				height: 20px;
				animation: spin 1s linear infinite;
				display: inline-block;
				margin-right: 0.5rem;
			}

			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
				100% {
					transform: rotate(360deg);
				}
			}

			/* Theme Toggle Switch Styles */
			.switch {
				display: inline-block;
				position: relative;
			}
			.switch__input {
				clip: rect(1px, 1px, 1px, 1px);
				clip-path: inset(50%);
				height: 1px;
				width: 1px;
				margin: -1px;
				overflow: hidden;
				padding: 0;
				position: absolute;
			}
			.switch__label {
				position: relative;
				display: inline-block;
				width: 75px;
				height: 38px;
				background-color: #8fb5f5;
				border: 3px solid #347cf8;
				border-radius: 9999px;
				cursor: pointer;
				transition: all 0.4s cubic-bezier(0.46, 0.03, 0.52, 0.96);
			}
			.switch__indicator {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%) translateX(50%);
				display: block;
				width: 26px;
				height: 26px;
				background-color: #ecd21f;
				border-radius: 9999px;
				box-shadow: none;
				transition: all 0.4s cubic-bezier(0.46, 0.03, 0.52, 0.96);
			}
			.switch__indicator::before,
			.switch__indicator::after {
				position: absolute;
				content: "";
				display: block;
				background-color: #ffffff;
				border-radius: 9999px;
				transition: all 0.4s cubic-bezier(0.46, 0.03, 0.52, 0.96);
			}
			.switch__indicator::before {
				width: 5px;
				height: 5px;
				top: auto;
				bottom: 0;
				left: -4px;
				background-color: #ffffff;
				opacity: 1;
			}
			.switch__indicator::after {
				width: 8px;
				height: 8px;
				top: auto;
				bottom: 0;
				left: 8px;
				background-color: #ffffff;
				opacity: 1;
			}
			.switch__decoration {
				position: absolute;
				top: 50%;
				left: 50%;
				display: block;
				width: 10px;
				height: 10px;
				background-color: #ffffff;
				border-radius: 9999px 9999px 0 0;
				transform: translate(0%, -50%);
				animation: cloud 8s linear infinite;
			}
			.switch__decoration::before,
			.switch__decoration::after {
				position: absolute;
				display: block;
				content: "";
				background-color: #ffffff;
				border-radius: 9999px 9999px 0 0;
			}
			.switch__decoration::before {
				width: 5px;
				height: 5px;
				top: auto;
				bottom: 0;
				left: -4px;
			}
			.switch__decoration::after {
				width: 8px;
				height: 8px;
				top: auto;
				bottom: 0;
				left: 8px;
				border-bottom-right-radius: 9999px;
			}
			@keyframes twinkle {
				50% {
					opacity: 0.2;
				}
			}
			.switch__input:checked + .switch__label {
				background-color: #2b2b2b;
				border-color: #5b5b5b;
			}
			.switch__input:checked + .switch__label .switch__indicator {
				background-color: #7b7b7b;
				box-shadow: 5px 0px 0 0 rgba(0, 0, 0, 0.2) inset;
				transform: translate(-50%, -50%) translateX(-50%);
			}
			.switch__input:checked + .switch__label .switch__indicator::before {
				top: 4px;
				left: 4px;
				width: 5px;
				height: 5px;
				background-color: #ffffff;
				opacity: 0.6;
				bottom: auto;
			}
			.switch__input:checked + .switch__label .switch__indicator::after {
				bottom: 4px;
				right: 3px;
				width: 7px;
				height: 7px;
				background-color: #ffffff;
				opacity: 0.8;
				top: auto;
				left: auto;
			}
			.switch__input:checked + .switch__label .switch__decoration {
				top: 65%;
				left: 50%;
				transform: none;
				animation: twinkle 0.8s infinite -0.6s;
				width: 3px;
				height: 3px;
				border-radius: 9999px;
			}
			.switch__input:checked
				+ .switch__label
				.switch__decoration::before {
				width: 3px;
				height: 3px;
				top: -10px;
				left: 5px;
				bottom: auto;
				opacity: 1;
				animation: twinkle 0.6s infinite;
				border-radius: 9999px;
			}
			.switch__input:checked + .switch__label .switch__decoration::after {
				width: 3px;
				height: 3px;
				top: -3px;
				left: 15px;
				bottom: auto;
				animation: twinkle 0.6s infinite -0.2s;
				border-radius: 9999px;
			}
			@keyframes cloud {
				0% {
					transform: translate(0%, -50%);
				}
				50% {
					transform: translate(-25%, -50%);
				}
				100% {
					transform: translate(0%, -50%);
				}
			}

			/* Responsive Design */
			@media (max-width: 768px) {
				.nav-container {
					padding: 1rem;
					flex-direction: column;
					gap: 1rem;
				}

				.nav-links {
					gap: 1rem;
				}

				.hero h1 {
					font-size: 2.5rem;
				}

				.hero p {
					font-size: 1.1rem;
				}

				.container {
					padding: 1rem;
				}

				.stats-grid,
				.feature-grid {
					grid-template-columns: 1fr;
				}

				.form-row {
					flex-direction: column;
				}

				.form-row .form-group {
					min-width: auto;
				}

				.modal-content {
					width: 95%;
					margin: 1rem;
				}
			}
		</style>
	</head>
	<body>
		<!-- Navigation -->
		<nav class="navbar">
			<div class="nav-container">
				<a href="javascript:void(0)" class="nav-brand">
					<img
						src="/logo.png"
						alt="CFlairCounter Logo"
						id="navbar-logo"
						style="
							height: 7vh;
							vertical-align: middle;
							margin-right: 0.5rem;
						"
					/>
					<span>CFlairCounter</span>
				</a>
				<div class="nav-links">
					<div class="switch">
						<input
							type="checkbox"
							class="switch__input"
							id="themeToggle"
						/>
						<label
							aria-label="Toggle theme"
							class="switch__label"
							for="themeToggle"
						>
							<span
								aria-hidden="true"
								class="switch__indicator"
							></span>
							<span
								aria-hidden="true"
								class="switch__decoration"
							></span>
						</label>
					</div>
					<a
						href="javascript:void(0)"
						class="nav-link active"
						onclick="showPage('home', event)"
						>üè† Home</a
					>
					<a
						href="javascript:void(0)"
						class="nav-link"
						onclick="showPage('demo', event)"
						>üöÄ Demo</a
					>
					<a
						href="javascript:void(0)"
						class="nav-link"
						onclick="showPage('docs', event)"
						>üìö Docs</a
					>
					<a
						href="javascript:void(0)"
						class="nav-link"
						onclick="showAdminModal()"
						>üîí Admin</a
					>
				</div>
			</div>
		</nav>

		<div class="container">
			<!-- HOME PAGE -->
			<div id="home-page" class="page active">
				<div class="hero">
					<img
						src="/logo.png"
						alt="CFlairCounter"
						id="hero-logo"
						style="
							width: 200px;
							height: auto;
							margin-bottom: 1.5rem;
						"
					/>
					<h1>Professional View Counter</h1>
					<p>
						Advanced serverless analytics with enterprise-grade
						admin management
					</p>
					<div class="hero-badges">
						<span class="badge">‚ö° High Performance</span>
						<span class="badge">üîí Secure Admin</span>
						<span class="badge">üìä Advanced Analytics</span>
						<span class="badge">üí∞ Cost Optimized</span>
					</div>
				</div>

				<!-- Live Global Stats -->
				<div class="card">
					<h2>üìä Global Statistics</h2>
					<div class="stats-grid">
						<div class="stat-item">
							<div class="stat-number" id="global-total-views">
								0
							</div>
							<div class="stat-label">Total Views</div>
						</div>
						<div class="stat-item">
							<div class="stat-number" id="global-total-projects">
								0
							</div>
							<div class="stat-label">Active Projects</div>
						</div>
						<div class="stat-item">
							<div
								class="stat-number"
								id="global-unique-visitors"
							>
								0
							</div>
							<div class="stat-label">Unique Visitors</div>
						</div>
						<!-- <div class="stat-item">
							<div class="stat-number" id="global-efficiency">
								99.9%
							</div>
							<div class="stat-label">System Efficiency</div>
						</div> -->
					</div>
				</div>

				<!-- Key Features -->
				<div class="card">
					<h2>‚ú® Key Features</h2>
					<div class="feature-grid">
						<div class="feature-card">
							<div class="feature-icon">‚ö°</div>
							<h3>Ultra Fast</h3>
							<p>
								Optimized for minimal latency with intelligent
								caching and efficient database queries.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">üîí</div>
							<h3>Secure Admin</h3>
							<p>
								Password-protected admin panel with
								environment-based configuration and role
								management.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">üìä</div>
							<h3>Rich Analytics</h3>
							<p>
								Detailed view tracking, visitor analytics, and
								comprehensive reporting dashboard.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">üí∞</div>
							<h3>Cost Effective</h3>
							<p>
								Designed to stay within Cloudflare's free tier
								with optional premium features.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">üåô</div>
							<h3>Dark Mode</h3>
							<p>
								Beautiful light and dark themes with smooth
								transitions and persistent user preferences.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">üéØ</div>
							<h3>Easy Integration</h3>
							<p>
								Simple one-line webhook integration with RESTful
								API and auto-generated badges for any project.
							</p>
						</div>
					</div>
				</div>
			</div>

			<!-- DEMO PAGE -->
			<div id="demo-page" class="page">
				<div class="hero">
					<h1>üöÄ Live Demo</h1>
					<p>Try out the view counter with real-time updates</p>
				</div>

				<!-- Quick Demo -->
				<div class="card">
					<h2>üéØ Quick Test</h2>
					<div class="form-row">
						<div class="form-group">
							<label class="form-label" for="demo-project"
								>Project Name:</label
							>
							<input
								type="text"
								id="demo-project"
								class="form-input"
								value="demo-project"
								placeholder="Enter project name"
							/>
						</div>
						<div class="form-group">
							<button
								onclick="incrementDemo()"
								class="btn btn-primary"
							>
								üìà Increment Views
							</button>
						</div>
						<div class="form-group">
							<button
								onclick="getDemoStats()"
								class="btn btn-secondary"
							>
								üìä Get Stats
							</button>
						</div>
					</div>

					<div
						id="demo-results"
						style="display: none; margin-top: 1.5rem"
					>
						<h3>Results:</h3>
						<div class="stats-grid">
							<div class="stat-item">
								<div class="stat-number" id="demo-views">0</div>
								<div class="stat-label">Total Views</div>
							</div>
							<div class="stat-item">
								<div class="stat-number" id="demo-unique">
									0
								</div>
								<div class="stat-label">Unique Views</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Badge Generator -->
				<div class="card">
					<h2>üé® Badge Generator</h2>
					<div class="form-row">
						<div class="form-group">
							<label class="form-label" for="badge-project"
								>Project:</label
							>
							<input
								type="text"
								id="badge-project"
								class="form-input"
								value="demo-project"
							/>
						</div>
						<div class="form-group">
							<label class="form-label" for="badge-color"
								>Color:</label
							>
							<select id="badge-color" class="form-input">
								<option value="blue">Blue</option>
								<option value="green">Green</option>
								<option value="red">Red</option>
								<option value="orange">Orange</option>
								<option value="purple">Purple</option>
							</select>
						</div>
						<div class="form-group">
							<button
								onclick="updateBadgePreview()"
								class="btn btn-primary"
							>
								üé® Generate Badge
							</button>
						</div>
					</div>

					<div
						id="badge-preview"
						style="display: none; margin-top: 1.5rem"
					>
						<h3>Badge Preview:</h3>
						<img
							id="demo-badge"
							style="margin: 1rem 0"
							alt="Badge Preview"
						/>
						<div class="code-block">
							<span class="comment">// Markdown</span><br />
							![Views](https://your-domain.com/api/views/<span
								id="badge-url-project"
								>demo-project</span
							>/badge?color=<span id="badge-url-color">blue</span
							>)
						</div>
					</div>
				</div>
			</div>

			<!-- DOCS PAGE -->
			<div id="docs-page" class="page">
				<div class="hero">
					<h1>üìö Complete Documentation</h1>
					<p>
						Everything you need to integrate CFlairCounter into your
						projects
					</p>
					<div class="hero-badges">
						<span class="badge">üöÄ Quick Start</span>
						<span class="badge">üìñ API Reference</span>
						<span class="badge">üí° Examples</span>
						<span class="badge">‚öôÔ∏è Configuration</span>
					</div>
				</div>

				<!-- Quick Start Guide -->
				<div class="card">
					<h2>üöÄ Quick Start</h2>
					<p>Get your view counter running in under 2 minutes:</p>

					<h3>1. Basic Setup</h3>
					<div class="code-block">
						<span class="comment"
							>// Step 1: Track a view (POST request)</span
						>
						fetch('https://your-domain.com/api/views/my-project', {
						method: 'POST' }) .then(response => response.json())
						.then(data => console.log('‚úÖ View tracked!',
						data.totalViews));

						<span class="comment"
							>// Step 2: Display view count (GET request)</span
						>
						fetch('https://your-domain.com/api/views/my-project')
						.then(response => response.json()) .then(data => {
						document.getElementById('view-count').textContent =
						data.totalViews; });
					</div>

					<h3>2. Add to Your HTML</h3>
					<div class="code-block">
						<span class="comment"
							>&lt;!-- View counter display --&gt;</span
						>
						&lt;div&gt; &lt;span&gt;Views: &lt;/span&gt; &lt;span
						id="view-count"&gt;Loading...&lt;/span&gt; &lt;/div&gt;

						<span class="comment"
							>&lt;!-- Or use a badge --&gt;</span
						>
						&lt;img
						src="https://your-domain.com/api/views/my-project/badge"
						alt="View Count" /&gt;
					</div>

					<h3>3. GitHub README Integration</h3>
					<div class="code-block">
						<span class="comment"># Add to your README.md</span>
						![Views](https://your-domain.com/api/views/my-repo/badge?color=blue&label=views)

						<span class="comment"># With custom styling</span>
						[![Project
						Views](https://your-domain.com/api/views/my-repo/badge?color=brightgreen&style=flat&label=project%20views)](https://your-domain.com)
					</div>
				</div>

				<!-- Complete API Reference -->
				<div class="card">
					<h2>üîó Complete API Reference</h2>

					<h3>üìà POST /api/views/{project-name}</h3>
					<p>
						<strong>Purpose:</strong> Increment view count for a
						project
					</p>
					<div class="table">
						<table class="table">
							<thead>
								<tr>
									<th>Parameter</th>
									<th>Type</th>
									<th>Description</th>
									<th>Required</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>project-name</td>
									<td>string</td>
									<td>
										Unique project identifier (max 100
										chars)
									</td>
									<td>‚úÖ Yes</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="code-block">
						<span class="comment">// Request</span>
						POST /api/views/my-awesome-project

						<span class="comment">// Response (200 OK)</span>
						{
						<span class="string">"success"</span>: true,
						<span class="string">"projectName"</span>:
						<span class="string">"my-awesome-project"</span>,
						<span class="string">"totalViews"</span>: 1337,
						<span class="string">"uniqueViews"</span>: 892,
						<span class="string">"timestamp"</span>:
						<span class="string">"2025-08-28T13:45:30Z"</span>
						}
					</div>

					<h3>üìä GET /api/views/{project-name}</h3>
					<p>
						<strong>Purpose:</strong> Get current statistics for a
						project
					</p>
					<div class="code-block">
						<span class="comment">// Request</span>
						GET /api/views/my-awesome-project

						<span class="comment">// Response (200 OK)</span>
						{
						<span class="string">"success"</span>: true,
						<span class="string">"projectName"</span>:
						<span class="string">"my-awesome-project"</span>,
						<span class="string">"totalViews"</span>: 1337,
						<span class="string">"uniqueViews"</span>: 892,
						<span class="string">"description"</span>: null,
						<span class="string">"createdAt"</span>:
						<span class="string">"2025-08-01T10:30:00Z"</span>
						}

						<span class="comment"
							>// Response for non-existent project</span
						>
						{
						<span class="string">"success"</span>: true,
						<span class="string">"projectName"</span>:
						<span class="string">"new-project"</span>,
						<span class="string">"totalViews"</span>: 0,
						<span class="string">"uniqueViews"</span>: 0,
						<span class="string">"description"</span>: null,
						<span class="string">"createdAt"</span>: null }
					</div>

					<h3>üé® GET /api/views/{project-name}/badge</h3>
					<p>
						<strong>Purpose:</strong> Generate SVG badge with view
						count
					</p>
					<div class="table">
						<table class="table">
							<thead>
								<tr>
									<th>Parameter</th>
									<th>Type</th>
									<th>Default</th>
									<th>Options</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>color</td>
									<td>string</td>
									<td>blue</td>
									<td>
										blue, green, red, orange, purple,
										brightgreen
									</td>
								</tr>
								<tr>
									<td>label</td>
									<td>string</td>
									<td>views</td>
									<td>Any custom text (URL encoded)</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="code-block">
						<span class="comment">// Basic badge</span>
						GET /api/views/my-project/badge

						<span class="comment">// Custom color and label</span>
						GET
						/api/views/my-project/badge?color=brightgreen&label=downloads

						<span class="comment"
							>// Response: SVG image (image/svg+xml)</span
						>
						<span class="comment">// Cached for 1 hour</span>
					</div>

					<h3>üíä GET /health</h3>
					<p><strong>Purpose:</strong> Health check endpoint</p>
					<div class="code-block">
						<span class="comment">// Response (200 OK)</span>
						{
						<span class="string">"success"</span>: true,
						<span class="string">"status"</span>:
						<span class="string">"ok"</span>,
						<span class="string">"timestamp"</span>:
						<span class="string">"2025-08-28T13:45:30Z"</span>,
						<span class="string">"worker"</span>:
						<span class="string">"cflaircounter-api"</span>,
						<span class="string">"version"</span>:
						<span class="string">"2.0.0"</span>
						}
					</div>
				</div>

				<!-- Integration Examples -->
				<div class="card">
					<h2>‚ö° Integration Examples</h2>

					<h3>üåê JavaScript (Browser)</h3>
					<div class="code-block">
						<span class="comment"
							>// Modern async/await approach</span
						>
						async function trackView(projectName) { try { const
						response = await fetch(`/api/views/${projectName}`, {
						method: 'POST' }); const data = await response.json();
						if (data.success) { console.log(`üìà Views:
						${data.totalViews}`);
						updateViewCounter(data.totalViews); } } catch (error) {
						console.error('‚ùå Failed to track view:', error); } }

						<span class="comment"
							>// Get and display current stats</span
						>
						async function displayViewCount(projectName) { try {
						const response = await
						fetch(`/api/views/${projectName}`); const data = await
						response.json();
						document.getElementById('view-count').textContent =
						data.totalViews.toLocaleString();
						document.getElementById('unique-count').textContent =
						data.uniqueViews.toLocaleString(); } catch (error) {
						console.error('‚ùå Failed to load stats:', error); } }

						<span class="comment"
							>// Auto-track when page loads</span
						>
						document.addEventListener('DOMContentLoaded', () => {
						trackView('my-website'); displayViewCount('my-website');
						});
					</div>

					<h3>üöÄ Node.js (Server-side)</h3>
					<div class="code-block">
						<span class="comment"
							>// Using fetch (Node.js 18+)</span
						>
						async function trackServerView(projectName) { try {
						const response = await
						fetch(`https://your-domain.com/api/views/${projectName}`,
						{ method: 'POST', headers: { 'User-Agent':
						'YourApp/1.0.0' } }); const data = await
						response.json(); console.log(`‚úÖ Tracked view for
						${projectName}: ${data.totalViews} total`); return data;
						} catch (error) { console.error('‚ùå Tracking failed:',
						error); throw error; } }

						<span class="comment">// Using axios</span>
						const axios = require('axios'); async function
						getProjectStats(projectName) { try { const { data } =
						await
						axios.get(`https://your-domain.com/api/views/${projectName}`);
						return { views: data.totalViews, unique:
						data.uniqueViews, created: data.createdAt }; } catch
						(error) { if (error.response?.status === 404) { return {
						views: 0, unique: 0, created: null }; } throw error; } }

						<span class="comment">// Express.js middleware</span>
						const trackViews = (projectName) => async (req, res,
						next) => { try { await trackServerView(projectName); }
						catch (error) { console.warn('View tracking failed:',
						error.message); } next(); }; app.use('/my-project',
						trackViews('my-project'), myProjectRoutes);
					</div>

					<h3>üêç Python</h3>
					<div class="code-block">
						<span class="comment"># Using requests library</span>
						import requests from typing import Dict, Optional class
						ViewCounter: def __init__(self, base_url: str):
						self.base_url = base_url.rstrip('/') def
						track_view(self, project_name: str) -> Dict: """Track a
						view for the given project.""" url =
						f"{self.base_url}/api/views/{project_name}" try:
						response = requests.post(url, timeout=5)
						response.raise_for_status() return response.json()
						except requests.RequestException as e: print(f"‚ùå Failed
						to track view: {e}") return {"success": False, "error":
						str(e)} def get_stats(self, project_name: str) -> Dict:
						"""Get current statistics for a project.""" url =
						f"{self.base_url}/api/views/{project_name}" try:
						response = requests.get(url, timeout=5)
						response.raise_for_status() return response.json()
						except requests.RequestException as e: print(f"‚ùå Failed
						to get stats: {e}") return {"success": False, "error":
						str(e)}

						<span class="comment"># Usage</span>
						counter = ViewCounter("https://your-domain.com")

						<span class="comment"># Track a view</span>
						result = counter.track_view("my-python-project") if
						result.get("success"): print(f"üìà Total views:
						{result['totalViews']}")

						<span class="comment"># Get current stats</span>
						stats = counter.get_stats("my-python-project") if
						stats.get("success"): print(f"üìä Views:
						{stats['totalViews']}, Unique: {stats['uniqueViews']}")
					</div>

					<h3>ü¶Ä Rust</h3>
					<div class="code-block">
						<span class="comment"
							>// Add to Cargo.toml: reqwest = { version = "0.11",
							features = ["json"] }</span
						>
						use reqwest; use serde::{Deserialize, Serialize};
						#[derive(Debug, Deserialize)] struct ViewResponse {
						success: bool, #[serde(rename = "totalViews")]
						total_views: u32, #[serde(rename = "uniqueViews")]
						unique_views: u32, #[serde(rename = "projectName")]
						project_name: String, } async fn
						track_view(project_name: &str) ->
						Result&lt;ViewResponse, reqwest::Error&gt; { let url =
						format!("https://your-domain.com/api/views/{}",
						project_name); let client = reqwest::Client::new(); let
						response = client .post(&url) .send() .await?
						.json::&lt;ViewResponse&gt;() .await?; println!("‚úÖ
						Tracked view for {}: {} total", project_name,
						response.total_views); Ok(response) } async fn
						get_stats(project_name: &str) -> Result&lt;ViewResponse,
						reqwest::Error&gt; { let url =
						format!("https://your-domain.com/api/views/{}",
						project_name); let response = reqwest::get(&url) .await?
						.json::&lt;ViewResponse&gt;() .await?; Ok(response) }

						<span class="comment">// Usage in main function</span>
						#[tokio::main] async fn main() -> Result&lt;(),
						Box&lt;dyn std::error::Error&gt;&gt; { let stats =
						track_view("my-rust-project").await?; println!("üìä
						Project stats: {:?}", stats); Ok(()) }
					</div>
				</div>

				<!-- Advanced Usage -->
				<div class="card">
					<h2>üéØ Advanced Usage</h2>

					<h3>‚öôÔ∏è Environment Configuration</h3>
					<p>
						Configure your CFlairCounter instance with these
						environment variables:
					</p>
					<div class="table">
						<table class="table">
							<thead>
								<tr>
									<th>Variable</th>
									<th>Default</th>
									<th>Description</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><code>ADMIN_PASSWORD</code></td>
									<td>admin123</td>
									<td>Password for admin panel access</td>
								</tr>
								<tr>
									<td><code>ENABLE_ADMIN</code></td>
									<td>true</td>
									<td>Enable/disable admin functionality</td>
								</tr>
								<tr>
									<td><code>ENABLE_ANALYTICS</code></td>
									<td>false</td>
									<td>
										Enable detailed visitor tracking (uses
										more DB queries)
									</td>
								</tr>
								<tr>
									<td><code>MAX_PROJECTS</code></td>
									<td>100</td>
									<td>
										Maximum number of projects to prevent
										abuse
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<h3>üèóÔ∏è Self-Hosting</h3>
					<div class="code-block">
						<span class="comment"># Clone the repository</span>
						git clone
						https://github.com/Life-Experimentalist/CFlair-Counter.git
						cd CFlair-Counter

						<span class="comment"># Install dependencies</span>
						npm install

						<span class="comment"
							># Set up environment variables</span
						>
						cp .env.example .env # Edit .env with your settings

						<span class="comment"
							># Create Cloudflare D1 database</span
						>
						npm run db:create npm run db:init

						<span class="comment"
							># Deploy to Cloudflare Pages</span
						>
						npm run deploy
					</div>

					<h3>üìä Rate Limiting & Performance</h3>
					<div class="code-block">
						<span class="comment"
							>// Implement client-side rate limiting</span
						>
						class ViewTracker { constructor(cooldown = 60000) { // 1
						minute cooldown this.cooldown = cooldown; this.lastTrack
						= new Map(); } async track(projectName) { const now =
						Date.now(); const last = this.lastTrack.get(projectName)
						|| 0; if (now - last < this.cooldown) { console.log('‚è±Ô∏è
						Cooldown active, skipping track'); return
						this.getStats(projectName); }
						this.lastTrack.set(projectName, now); return
						this.trackView(projectName); } async
						trackView(projectName) { // Implementation here } }

						<span class="comment">// Usage</span>
						const tracker = new ViewTracker(30000); // 30 second
						cooldown tracker.track('my-project');
					</div>

					<h3>üîÑ Batch Operations</h3>
					<div class="code-block">
						<span class="comment"
							>// Track multiple projects efficiently</span
						>
						async function trackMultiple(projects) { const promises
						= projects.map(project => fetch(`/api/views/${project}`,
						{ method: 'POST' }) .then(r => r.json()) .catch(err =>
						({ success: false, project, error: err.message })) );
						const results = await Promise.all(promises); return
						results; }

						<span class="comment"
							>// Get stats for multiple projects</span
						>
						async function getMultipleStats(projects) { const
						promises = projects.map(async project => { try { const
						response = await fetch(`/api/views/${project}`); const
						data = await response.json(); return { ...data, project
						}; } catch (error) { return { success: false, project,
						error: error.message }; } }); return
						Promise.all(promises); }

						<span class="comment">// Usage</span>
						const projects = ['project-1', 'project-2',
						'project-3']; const stats = await
						getMultipleStats(projects); console.table(stats);
					</div>
				</div>

				<!-- Troubleshooting -->
				<div class="card">
					<h2>üîß Troubleshooting</h2>

					<h3>‚ùå Common Issues</h3>
					<div class="table">
						<table class="table">
							<thead>
								<tr>
									<th>Issue</th>
									<th>Cause</th>
									<th>Solution</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>CORS Error</td>
									<td>Cross-origin request blocked</td>
									<td>
										Use server-side tracking or proxy
										requests
									</td>
								</tr>
								<tr>
									<td>404 Not Found</td>
									<td>
										Project name contains invalid characters
									</td>
									<td>
										Use alphanumeric characters, hyphens,
										underscores only
									</td>
								</tr>
								<tr>
									<td>Admin Access Denied</td>
									<td>Wrong password or admin disabled</td>
									<td>
										Check ADMIN_PASSWORD environment
										variable
									</td>
								</tr>
								<tr>
									<td>High Response Times</td>
									<td>Database not optimized</td>
									<td>
										Ensure D1 database is properly
										initialized
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<h3>üêõ Debugging</h3>
					<div class="code-block">
						<span class="comment">// Enable detailed logging</span>
						const DEBUG = true; async function
						debugTrack(projectName) { if (DEBUG) console.log(`üîç
						Tracking view for: ${projectName}`); try { const start =
						performance.now(); const response = await
						fetch(`/api/views/${projectName}`, { method: 'POST' });
						const duration = performance.now() - start; if (DEBUG)
						console.log(`‚è±Ô∏è Request took:
						${duration.toFixed(2)}ms`); const data = await
						response.json(); if (DEBUG) console.log('üìä Response:',
						data); return data; } catch (error) { if (DEBUG)
						console.error('‚ùå Error:', error); throw error; } }
					</div>

					<h3>üìà Monitoring</h3>
					<div class="code-block">
						<span class="comment">// Check system health</span>
						async function healthCheck() { try { const response =
						await fetch('/health'); const data = await
						response.json(); console.log('‚úÖ System Status:',
						data.status); console.log('üìÖ Last Check:', new
						Date(data.timestamp)); console.log('üî¢ Version:',
						data.version); return data.status === 'ok'; } catch
						(error) { console.error('‚ùå Health check failed:',
						error); return false; } }

						<span class="comment">// Monitor with alerts</span>
						setInterval(async () => { const isHealthy = await
						healthCheck(); if (!isHealthy) { console.warn('‚ö†Ô∏è System
						health check failed!'); // Implement your alerting logic
						here } }, 300000); // Check every 5 minutes
					</div>
				</div>

				<!-- Performance & Limits -->
				<div class="card">
					<h2>‚ö° Performance & Limits</h2>

					<h3>üìä System Specifications</h3>
					<div class="stats-grid">
						<div class="stat-item">
							<div class="stat-number">< 100ms</div>
							<div class="stat-label">Average Response Time</div>
						</div>
						<div class="stat-item">
							<div class="stat-number">1000+</div>
							<div class="stat-label">RPS Capacity</div>
						</div>
						<div class="stat-item">
							<div class="stat-number">99.9%</div>
							<div class="stat-label">Uptime</div>
						</div>
						<div class="stat-item">
							<div class="stat-number">1 Hour</div>
							<div class="stat-label">Badge Cache</div>
						</div>
					</div>

					<h3>üí∞ Cost Optimization</h3>
					<p>
						CFlairCounter is designed to stay within Cloudflare's
						free tier limits:
					</p>
					<ul style="margin: 1rem 0; padding-left: 2rem">
						<li>
							<strong>Database:</strong> Optimized queries (1-3
							per request)
						</li>
						<li>
							<strong>Functions:</strong> Minimal compute time
						</li>
						<li>
							<strong>Caching:</strong> 1-hour badge cache reduces
							load
						</li>
						<li>
							<strong>Analytics:</strong> Optional to save
							resources
						</li>
					</ul>

					<h3>üîí Security Features</h3>
					<div class="code-block">
						<span class="comment"
							># Security headers automatically included</span
						>
						Access-Control-Allow-Origin: * Content-Security-Policy:
						default-src 'self' X-Content-Type-Options: nosniff

						<span class="comment"># Rate limiting built-in</span>
						Max requests per IP: 1000/hour Project name validation:
						Alphanumeric + hyphens/underscores Max project name
						length: 100 characters

						<span class="comment"
							># Privacy-friendly visitor tracking</span
						>
						IP address hashing: SHA-256 with salt No personal data
						stored GDPR compliant by design
					</div>
				</div>
			</div>
		</div>

		<!-- Admin Modal -->
		<div id="admin-modal" class="modal">
			<div class="modal-content modal-login">
				<div class="modal-header">
					<h2 class="modal-title">üîí Admin Panel</h2>
					<button class="modal-close" onclick="hideAdminModal()">
						‚úï
					</button>
				</div>

				<div id="admin-login">
					<form onsubmit="adminLogin(event); return false;">
						<div class="form-group">
							<label class="form-label" for="admin-password"
								>Admin Password:</label
							>
							<input
								type="password"
								id="admin-password"
								class="form-input"
								placeholder="Enter admin password"
								autocomplete="current-password"
							/>
						</div>
						<button
							type="submit"
							class="btn btn-primary"
							style="width: 100%"
						>
							üîë Login
						</button>
					</form>
				</div>
				<div id="admin-dashboard" style="display: none">
					<div class="stats-grid">
						<div class="stat-item">
							<div class="stat-number" id="admin-requests">0</div>
							<div class="stat-label">Total Views</div>
						</div>
						<div class="stat-item">
							<div class="stat-number" id="admin-db-ops">0</div>
							<div class="stat-label">Total Projects</div>
						</div>
					</div>

					<!-- Quick Actions -->
					<h3>‚ö° Quick Actions</h3>
					<div class="form-row">
						<button
							onclick="showAddProjectModal()"
							class="btn btn-primary"
						>
							‚ûï Add New Project
						</button>
						<button
							onclick="refreshAdminData()"
							class="btn btn-secondary"
						>
							üîÑ Refresh Data
						</button>
					</div>
					<br />
					<br />
					<!-- Project Management -->
					<h3>üìä Project Management</h3>
					<div id="admin-projects">
						<p>Loading projects...</p>
					</div>
				</div>
			</div>
		</div>

		<!-- Add/Edit Project Modal -->
		<div id="project-modal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-title" id="project-modal-title">
						‚ûï Add New Project
					</h2>
					<button class="modal-close" onclick="hideProjectModal()">
						‚úï
					</button>
				</div>
				<div class="form-group">
					<label class="form-label" for="project-name"
						>Project Name *</label
					>
					<input
						type="text"
						id="project-name"
						class="form-input"
						placeholder="e.g., my-awesome-project"
						pattern="[a-zA-Z0-9-_]+"
						title="Only alphanumeric, hyphens, and underscores allowed"
					/>
					<small style="color: #666"
						>Only alphanumeric characters, hyphens, and
						underscores</small
					>
				</div>
				<div class="form-group">
					<label class="form-label" for="project-description"
						>Description</label
					>
					<input
						type="text"
						id="project-description"
						class="form-input"
						placeholder="Brief description of your project"
					/>
				</div>
				<div class="form-group">
					<label class="form-label" for="project-views"
						>View Count</label
					>
					<input
						type="number"
						id="project-views"
						class="form-input"
						value="0"
						min="0"
						placeholder="0"
					/>
				</div>
				<div class="form-group">
					<label class="form-label" for="project-unique"
						>Unique Views</label
					>
					<input
						type="number"
						id="project-unique"
						class="form-input"
						value="0"
						min="0"
						placeholder="0"
					/>
				</div>
				<div class="form-row">
					<button
						onclick="hideProjectModal()"
						class="btn btn-secondary"
					>
						Cancel
					</button>
					<button
						onclick="saveProject()"
						class="btn btn-primary"
						id="save-project-btn"
					>
						üíæ Save Project
					</button>
				</div>
			</div>
		</div>

		<!-- Badge Links Modal -->
		<div id="badge-modal" class="modal">
			<div class="modal-content" style="max-width: 800px">
				<div class="modal-header">
					<h2 class="modal-title">üé® Badge & Links</h2>
					<button class="modal-close" onclick="hideBadgeModal()">
						‚úï
					</button>
				</div>
				<div id="badge-links-content">
					<!-- Dynamic content -->
				</div>
			</div>
		</div>

		<!-- Notification -->
		<div id="notification" class="notification"></div>

		<script>
			const API_BASE = window.location.origin;
			let currentPage = "home";
			let adminPassword = "";
			let currentEditProject = null;

			// Initialize app
			document.addEventListener("DOMContentLoaded", function () {
				// Clean up URL hash if present
				if (window.location.hash) {
					history.replaceState(null, null, window.location.pathname);
				}

				// Initialize theme
				initializeTheme();

				loadGlobalStats();
				setInterval(loadGlobalStats, 30000); // Update every 30 seconds
			});

			// Theme Management
			function initializeTheme() {
				const themeToggle = document.getElementById("themeToggle");
				const savedTheme = localStorage.getItem("theme") || "light";

				// Apply saved theme
				if (savedTheme === "dark") {
					document.documentElement.setAttribute("data-theme", "dark");
					themeToggle.checked = true;
					updateLogos(true);
				} else {
					updateLogos(false);
				}

				// Listen for theme changes
				themeToggle.addEventListener("change", function () {
					if (this.checked) {
						// Checked = Dark mode (moon)
						document.documentElement.setAttribute(
							"data-theme",
							"dark"
						);
						localStorage.setItem("theme", "dark");
						updateLogos(true);
					} else {
						// Unchecked = Light mode (sun)
						document.documentElement.setAttribute(
							"data-theme",
							"light"
						);
						localStorage.setItem("theme", "light");
						updateLogos(false);
					}
				});
			}

			// Update logos based on theme
			function updateLogos(isDark) {
				const navbarLogo = document.getElementById("navbar-logo");
				const heroLogo = document.getElementById("hero-logo");
				const logoSrc = isDark ? "/logo-dark.png" : "/logo.png";

				if (navbarLogo) navbarLogo.src = logoSrc;
				if (heroLogo) heroLogo.src = logoSrc;
			}

			// Page Management
			function showPage(pageId, event) {
				// Prevent default link behavior
				if (event) {
					event.preventDefault();
				}

				// Hide all pages
				document.querySelectorAll(".page").forEach((page) => {
					page.classList.remove("active");
				});

				// Show selected page
				document
					.getElementById(pageId + "-page")
					.classList.add("active");

				// Update navigation
				document.querySelectorAll(".nav-link").forEach((link) => {
					link.classList.remove("active");
				});
				if (event && event.target) {
					event.target.classList.add("active");
				}

				currentPage = pageId;

				// Update URL without hash
				if (history.replaceState) {
					history.replaceState(null, null, window.location.pathname);
				}
			}

			// Global Stats Loading
			async function loadGlobalStats() {
				try {
					const response = await fetch(`${API_BASE}/api/stats`);

					if (!response.ok) {
						// Try to get error message from response
						const contentType = response.headers.get("content-type");
						if (contentType && contentType.includes("application/json")) {
							const errorData = await response.json();
							throw new Error(
								`HTTP ${response.status}: ${errorData.error || response.statusText}`
							);
						} else if (response.status === 404) {
							// Response is HTML (404 page), not JSON
							throw new Error(
								`API endpoint not found (HTTP ${response.status}). The /api/stats endpoint may not be deployed.`
							);
						} else {
							// Attempt to extract text error message, fallback to status text
							let errorText = await response.text();
							// Sanitize/truncate errorText to avoid exposing raw HTML
							if (typeof errorText === "string") {
								errorText = errorText.replace(/<[^>]*>?/gm, "").substring(0, 200);
							}
							const fallbackMsg =
								errorText && errorText.trim().length > 0
									? errorText
									: response.statusText || "Unknown error";
							throw new Error(`HTTP ${response.status}: ${fallbackMsg}`);
						}
					}

					const data = await response.json();

					if (data.success) {
						// Update total views
						document.getElementById("global-total-views").textContent =
							data.statistics.totalViews.toLocaleString();

						// Update total projects
						document.getElementById("global-total-projects").textContent =
							data.statistics.totalProjects.toLocaleString();

						// Update unique visitors (hide if analytics disabled)
						const uniqueVisitorsElement = document.getElementById(
							"global-unique-visitors"
						);
						const uniqueVisitorsContainer =
							uniqueVisitorsElement.closest(".stat-item");

						if (
							data.statistics.analyticsEnabled &&
							data.statistics.uniqueViews !== null
						) {
							uniqueVisitorsElement.textContent =
								data.statistics.uniqueViews.toLocaleString();
							uniqueVisitorsContainer.style.display = "";
						} else {
							uniqueVisitorsContainer.style.display = "none";
						}
					}
				} catch (error) {
					console.error("Error loading global stats:", error);
					// Set fallback values on error
					document.getElementById("global-total-views").textContent = "‚Äî";
					document.getElementById("global-total-projects").textContent = "‚Äî";
					document.getElementById("global-unique-visitors").textContent = "‚Äî";
				}
			}

			// Demo Functions
			async function incrementDemo() {
				const project = document
					.getElementById("demo-project")
					.value.trim();
				if (!project) {
					showNotification("‚ùå Please enter a project name", "error");
					return;
				}

				setLoading(true);

				try {
					const response = await fetch(
						`${API_BASE}/api/views/${encodeURIComponent(project)}`,
						{
							method: "POST",
						}
					);
					const data = await response.json();

					if (data.success) {
						document.getElementById("demo-views").textContent =
							data.totalViews;
						document.getElementById("demo-unique").textContent =
							data.uniqueViews || "0";
						document.getElementById("demo-results").style.display =
							"block";
						showNotification(
							`‚úÖ View counted! Total: ${data.totalViews}`,
							"success"
						);
					} else {
						showNotification(
							"‚ùå Error incrementing views",
							"error"
						);
					}
				} catch (error) {
					showNotification("‚ùå Network error", "error");
				} finally {
					setLoading(false);
				}
			}

			async function getDemoStats() {
				const project = document
					.getElementById("demo-project")
					.value.trim();
				if (!project) {
					showNotification("‚ùå Please enter a project name", "error");
					return;
				}

				setLoading(true);

				try {
					const response = await fetch(
						`${API_BASE}/api/views/${encodeURIComponent(project)}`
					);
					const data = await response.json();

					if (data.success) {
						document.getElementById("demo-views").textContent =
							data.totalViews;
						document.getElementById("demo-unique").textContent =
							data.uniqueViews || "0";
						document.getElementById("demo-results").style.display =
							"block";
						showNotification(
							`üìä Stats loaded for ${project}`,
							"info"
						);
					} else {
						showNotification("‚ùå Project not found", "error");
					}
				} catch (error) {
					showNotification("‚ùå Network error", "error");
				} finally {
					setLoading(false);
				}
			}

			function updateBadgePreview() {
				const project = document
					.getElementById("badge-project")
					.value.trim();
				const color = document.getElementById("badge-color").value;

				if (!project) {
					showNotification("‚ùå Please enter a project name", "error");
					return;
				}

				const badgeUrl = `${API_BASE}/api/views/${encodeURIComponent(
					project
				)}/badge?color=${color}`;
				const badge = document.getElementById("demo-badge");
				badge.src = badgeUrl;

				document.getElementById("badge-url-project").textContent =
					project;
				document.getElementById("badge-url-color").textContent = color;
				document.getElementById("badge-preview").style.display =
					"block";

				showNotification("üé® Badge updated!", "success");
			}

			// Admin Functions
			function showAdminModal() {
				document.getElementById("admin-modal").classList.add("active");
			}

			function hideAdminModal() {
				document
					.getElementById("admin-modal")
					.classList.remove("active");
				document.getElementById("admin-login").style.display = "block";
				document.getElementById("admin-dashboard").style.display =
					"none";
				document.getElementById("admin-password").value = "";
				// Revert modal sizing back to login mode for next open
				const modalContent = document.querySelector('#admin-modal .modal-content');
				if (modalContent) {
					modalContent.classList.remove('modal-wide');
					modalContent.classList.add('modal-login');
				}
			}

			async function adminLogin(event) {
				if (event) event.preventDefault();

				const password =
					document.getElementById("admin-password").value;
				if (!password) {
					showNotification("‚ùå Please enter password", "error");
					return;
				}

				setLoading(true);

				try {
					const response = await fetch(
						`${API_BASE}/api/admin/stats`,
						{
							method: "POST",
							headers: {
								"Content-Type": "application/json",
							},
							body: JSON.stringify({ password }),
						}
					);

					const data = await response.json();

					if (data.success) {
						adminPassword = password; // Store for later use
						// Expand modal from narrow login to dashboard width
						const modalContent = document.querySelector('#admin-modal .modal-content');
						if (modalContent) {
							modalContent.classList.remove('modal-login');
							modalContent.classList.add('modal-wide');
						}
						document.getElementById("admin-login").style.display = "none";
						document.getElementById("admin-dashboard").style.display = "block";
						loadAdminData(data);
						showNotification("‚úÖ Admin access granted", "success");
					} else {
						showNotification("‚ùå Invalid password", "error");
					}
				} catch (error) {
					showNotification("‚ùå Authentication failed", "error");
				} finally {
					setLoading(false);
				}
			}

			function loadAdminData(data) {
				// Map API response to UI elements
				const stats = data.statistics || {};
				document.getElementById("admin-requests").textContent =
					stats.totalViews?.toLocaleString() || "0";
				document.getElementById("admin-db-ops").textContent =
					stats.totalProjects || "0";

				// Load projects table
				const projectsHtml =
					data.projects && data.projects.length
						? generateProjectsTable(data.projects)
						: "<p>No projects found</p>";
				document.getElementById("admin-projects").innerHTML =
					projectsHtml;
			}

			function generateProjectsTable(projects) {
				if (!projects.length) {
					return `
						<p style="text-align: center; color: #666; padding: 2rem;">
							No projects found. Click "Add New Project" to get started!
						</p>
					`;
				}

				let html = `
					<div style="overflow-x: auto;">
						<table class="table">
							<thead>
								<tr>
									<th>Project Name</th>
									<th>Views</th>
									<th>Unique</th>
									<th>Description</th>
									<th>Updated</th>
									<th style="text-align: center;">Actions</th>
								</tr>
							</thead>
							<tbody>
				`;

				projects.forEach((project) => {
					const projectName =
						project.project_name || project.name || "‚Äî";
					const views = project.view_count || project.totalViews || 0;
					const unique =
						project.unique_views || project.uniqueViews || 0;
					const description = project.description || "‚Äî";
					const updated = project.updated_at
						? new Date(project.updated_at).toLocaleDateString()
						: "‚Äî";

					html += `
						<tr>
							<td><strong>${projectName}</strong></td>
							<td>${views.toLocaleString()}</td>
							<td>${unique.toLocaleString()}</td>
							<td>${description}</td>
							<td>${updated}</td>
							<td style="text-align: center; white-space: nowrap;">
								<button onclick="showBadgeLinks('${projectName}')"
									class="btn btn-secondary"
									style="padding: 0.25rem 0.5rem; font-size: 0.85rem; margin: 0 0.25rem;"
									title="Get Badge & Links">
									üé®
								</button>
								<button onclick="editProject('${projectName}', ${views}, ${unique}, '${description}')"
									class="btn btn-secondary"
									style="padding: 0.25rem 0.5rem; font-size: 0.85rem; margin: 0 0.25rem;"
									title="Edit Project">
									‚úèÔ∏è
								</button>
								<button onclick="incrementProjectViews('${projectName}')"
									class="btn btn-secondary"
									style="padding: 0.25rem 0.5rem; font-size: 0.85rem; margin: 0 0.25rem;"
									title="Add View Count">
									‚ûï
								</button>
								<button onclick="deleteProject('${projectName}')"
									class="btn btn-secondary"
									style="padding: 0.25rem 0.5rem; font-size: 0.85rem; margin: 0 0.25rem; background: #dc3545;"
									title="Delete Project">
									üóëÔ∏è
								</button>
							</td>
						</tr>
					`;
				});

				html += `
							</tbody>
						</table>
					</div>
				`;

				return html;
			}

			// Project Management Functions
			function showAddProjectModal() {
				currentEditProject = null;
				document.getElementById("project-modal-title").textContent =
					"‚ûï Add New Project";
				document.getElementById("project-name").value = "";
				document.getElementById("project-name").disabled = false;
				document.getElementById("project-description").value = "";
				document.getElementById("project-views").value = "0";
				document.getElementById("project-views").disabled = false; // Enable editing view count
				document.getElementById("project-unique").value = "0";
				document.getElementById("project-unique").disabled = false; // Enable editing unique views
				document.getElementById("save-project-btn").textContent =
					"üíæ Save Project";
				document
					.getElementById("project-modal")
					.classList.add("active");
			}

			function hideProjectModal() {
				document
					.getElementById("project-modal")
					.classList.remove("active");
				currentEditProject = null;
			}

			function editProject(name, views, unique, description) {
				currentEditProject = name;
				document.getElementById("project-modal-title").textContent =
					"‚úèÔ∏è Edit Project";
				document.getElementById("project-name").value = name;
				document.getElementById("project-name").disabled = true; // Can't change project name
				document.getElementById("project-description").value =
					description === "‚Äî" ? "" : description;
				document.getElementById("project-views").value = views;
				document.getElementById("project-views").disabled = true; // Disable editing view count
				document.getElementById("project-unique").value = unique;
				document.getElementById("project-unique").disabled = true; // Disable editing unique views
				document.getElementById("save-project-btn").textContent =
					"üíæ Update Project";
				document
					.getElementById("project-modal")
					.classList.add("active");
			}

			async function saveProject() {
				const name = document
					.getElementById("project-name")
					.value.trim();
				const description = document
					.getElementById("project-description")
					.value.trim();
				const views =
					parseInt(document.getElementById("project-views").value) ||
					0;
				const unique =
					parseInt(document.getElementById("project-unique").value) ||
					0;

				if (!name) {
					showNotification("‚ùå Project name is required", "error");
					return;
				}

				// Validate project name format
				if (!/^[a-zA-Z0-9-_]+$/.test(name)) {
					showNotification("‚ùå Invalid project name format", "error");
					return;
				}

				setLoading(true);

				try {
					// For editing, we need to update the counts
					if (currentEditProject) {
						// Update view count by posting the difference
						const currentViews =
							parseInt(
								document.getElementById("project-views").dataset
									.original
							) || 0;
						const viewDiff = views - currentViews;

						if (viewDiff !== 0) {
							// Note: API doesn't support direct count updates yet
							showNotification(
								"‚ö†Ô∏è Direct count updates not yet supported. You can increment counts using the + button.",
								"warning"
							);
						}

						hideProjectModal();
						refreshAdminData();
					} else {
						// Create new project by tracking a view
						const response = await fetch(
							`${API_BASE}/api/views/${encodeURIComponent(name)}`,
							{
								method: "POST",
							}
						);

						const data = await response.json();

						if (data.success) {
							showNotification(
								`‚úÖ Project "${name}" created successfully!`,
								"success"
							);
							hideProjectModal();
							refreshAdminData();
						} else {
							showNotification(
								"‚ùå Failed to create project",
								"error"
							);
						}
					}
				} catch (error) {
					showNotification("‚ùå Error saving project", "error");
				} finally {
					setLoading(false);
				}
			}

			async function incrementProjectViews(projectName) {
				if (!confirm(`Add 1 view to "${projectName}"?`)) return;

				setLoading(true);
				try {
					const response = await fetch(
						`${API_BASE}/api/views/${encodeURIComponent(
							projectName
						)}`,
						{
							method: "POST",
						}
					);

					const data = await response.json();

					if (data.success) {
						showNotification(
							`‚úÖ View added! Total: ${data.totalViews}`,
							"success"
						);
						refreshAdminData();
					} else {
						showNotification(
							"‚ùå Failed to increment views",
							"error"
						);
					}
				} catch (error) {
					showNotification("‚ùå Error incrementing views", "error");
				} finally {
					setLoading(false);
				}
			}

			async function deleteProject(projectName) {
				if (
					!confirm(
						`‚ö†Ô∏è Are you sure you want to delete "${projectName}"?\n\nThis will permanently remove all view data for this project.`
					)
				) {
					return;
				}

				setLoading(true);
				try {
					const response = await fetch(
						`${API_BASE}/api/views/${encodeURIComponent(
							projectName
						)}`,
						{
							method: "DELETE",
							headers: {
								"Content-Type": "application/json",
								Authorization: `Bearer ${adminPassword}`,
							},
						}
					);

					const data = await response.json();

					if (data.success) {
						showNotification(
							`‚úÖ Project "${projectName}" deleted successfully`,
							"success"
						);
						// Refresh the admin data to reflect changes
						await refreshAdminData();
					} else {
						showNotification(
							`‚ùå Failed to delete project: ${
								data.error || "Unknown error"
							}`,
							"error"
						);
					}
				} catch (error) {
					console.error("Delete project error:", error);
					showNotification("‚ùå Error deleting project", "error");
				} finally {
					setLoading(false);
				}
			}

			async function refreshAdminData() {
				setLoading(true);
				try {
					const response = await fetch(
						`${API_BASE}/api/admin/stats`,
						{
							method: "POST",
							headers: {
								"Content-Type": "application/json",
							},
							body: JSON.stringify({ password: adminPassword }),
						}
					);

					const data = await response.json();

					if (data.success) {
						loadAdminData(data);
						showNotification("‚úÖ Data refreshed", "success");
					} else {
						showNotification("‚ùå Failed to refresh data", "error");
					}
				} catch (error) {
					showNotification("‚ùå Error refreshing data", "error");
				} finally {
					setLoading(false);
				}
			}

			// Badge & Links Functions
			function showBadgeLinks(projectName) {
				const baseUrl = API_BASE;
				const encodedProject = encodeURIComponent(projectName);

				const content = `
					<div style="margin-bottom: 1.5rem;">
						<h3 style="margin-top: 0;">üìä API Endpoints</h3>
						<div class="code-block" style="background: #f5f5f5; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
							<div style="margin-bottom: 0.5rem;">
								<strong>Track View (POST):</strong><br>
								<code style="color: #2563eb;">${baseUrl}/api/views/${encodedProject}</code>
								<button onclick="copyToClipboard('${baseUrl}/api/views/${encodedProject}')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
							</div>
							<div style="margin-bottom: 0.5rem;">
								<strong>Get Stats (GET):</strong><br>
								<code style="color: #2563eb;">${baseUrl}/api/views/${encodedProject}</code>
								<button onclick="copyToClipboard('${baseUrl}/api/views/${encodedProject}')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
							</div>
						</div>

						<h3>üé® Badge Variations</h3>
						<div style="display: grid; gap: 1rem;">
							${generateBadgeVariation(projectName, "blue", "views")}
							${generateBadgeVariation(projectName, "brightgreen", "views")}
							${generateBadgeVariation(projectName, "green", "visitors")}
							${generateBadgeVariation(projectName, "orange", "hits")}
							${generateBadgeVariation(projectName, "red", "downloads")}
							${generateBadgeVariation(projectName, "purple", "counter")}
						</div>

						<h3 style="margin-top: 1.5rem;">üìù Markdown Examples</h3>
						<div class="code-block" style="background: #f5f5f5; padding: 1rem; border-radius: 8px;">
							<strong>README.md Badge:</strong><br>
							<code>![Views](${baseUrl}/api/views/${encodedProject}/badge)</code>
							<button onclick="copyToClipboard('![Views](${baseUrl}/api/views/${encodedProject}/badge)')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
							<br><br>
							<strong>With Link:</strong><br>
							<code>[![Views](${baseUrl}/api/views/${encodedProject}/badge)](${baseUrl})</code>
							<button onclick="copyToClipboard('[![Views](${baseUrl}/api/views/${encodedProject}/badge)](${baseUrl})')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
						</div>

						<h3 style="margin-top: 1.5rem;">üåê HTML Examples</h3>
						<div class="code-block" style="background: #f5f5f5; padding: 1rem; border-radius: 8px;">
							<strong>Simple Image:</strong><br>
							<code>&lt;img src="${baseUrl}/api/views/${encodedProject}/badge" alt="Views"&gt;</code>
							<button onclick="copyToClipboard('<img src=&quot;${baseUrl}/api/views/${encodedProject}/badge&quot; alt=&quot;Views&quot;>')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
							<br><br>
							<strong>With Link:</strong><br>
							<code>&lt;a href="${baseUrl}"&gt;&lt;img src="${baseUrl}/api/views/${encodedProject}/badge" alt="Views"&gt;&lt;/a&gt;</code>
							<button onclick="copyToClipboard('<a href=&quot;${baseUrl}&quot;><img src=&quot;${baseUrl}/api/views/${encodedProject}/badge&quot; alt=&quot;Views&quot;></a>')" class="btn btn-secondary" style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.85rem;">üìã Copy</button>
						</div>
					</div>
				`;

				document.getElementById("badge-links-content").innerHTML =
					content;
				document.getElementById("badge-modal").classList.add("active");
			}

			function generateBadgeVariation(projectName, color, label) {
				const baseUrl = API_BASE;
				const encodedProject = encodeURIComponent(projectName);
				const badgeUrl = `${baseUrl}/api/views/${encodedProject}/badge?color=${color}&label=${label}`;

				return `
					<div style="background: #f5f5f5; padding: 1rem; border-radius: 8px;">
						<div style="margin-bottom: 0.5rem;">
							<img src="${badgeUrl}" alt="${label} badge" style="vertical-align: middle;">
							<span style="margin-left: 0.5rem; color: #666;">color=${color}, label=${label}</span>
						</div>
						<div style="display: flex; gap: 0.5rem;">
							<input type="text" value="${badgeUrl}" readonly
								style="flex: 1; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 0.85rem; font-family: monospace;">
							<button onclick="copyToClipboard('${badgeUrl}')" class="btn btn-secondary" style="padding: 0.5rem 1rem;">
								üìã Copy
							</button>
						</div>
					</div>
				`;
			}

			function hideBadgeModal() {
				document
					.getElementById("badge-modal")
					.classList.remove("active");
			}

			function copyToClipboard(text) {
				navigator.clipboard
					.writeText(text)
					.then(() => {
						showNotification("‚úÖ Copied to clipboard!", "success");
					})
					.catch(() => {
						showNotification("‚ùå Failed to copy", "error");
					});
			}

			async function clearCache() {
				// Note: /api/admin/cache endpoint not implemented
				showNotification(
					"‚ö†Ô∏è Cache clearing not yet implemented",
					"warning"
				);
				return;

				/* Disabled until endpoint is implemented
				if (!confirm("Are you sure you want to clear the cache?"))
					return;

				try {
					const response = await fetch(
						`${API_BASE}/api/admin/cache`,
						{
							method: "DELETE",
							headers: {
								Authorization: `Bearer ${
									document.getElementById("admin-password")
										.value
								}`,
							},
						}
					);

					if (response.ok) {
						showNotification(
							"‚úÖ Cache cleared successfully",
							"success"
						);
					} else {
						showNotification("‚ùå Failed to clear cache", "error");
					}
				} catch (error) {
					showNotification("‚ùå Error clearing cache", "error");
				}
				*/
			}

			async function exportData() {
				// Note: /api/admin/export endpoint not implemented
				showNotification(
					"‚ö†Ô∏è Data export not yet implemented",
					"warning"
				);
				return;

				/* Disabled until endpoint is implemented
				try {
					const response = await fetch(
						`${API_BASE}/api/admin/export`,
						{
							headers: {
								Authorization: `Bearer ${
									document.getElementById("admin-password")
										.value
								}`,
							},
						}
					);

					if (response.ok) {
						const blob = await response.blob();
						const url = window.URL.createObjectURL(blob);
						const a = document.createElement("a");
						a.href = url;
						a.download = `cflaircounter-export-${
							new Date().toISOString().split("T")[0]
						}.json`;
						a.click();
						window.URL.revokeObjectURL(url);
						showNotification(
							"‚úÖ Data exported successfully",
							"success"
						);
					} else {
						showNotification("‚ùå Failed to export data", "error");
					}
				} catch (error) {
					showNotification("‚ùå Error exporting data", "error");
				}
				*/
			}

			// Utility Functions
			function showNotification(message, type = "info") {
				const notification = document.getElementById("notification");
				notification.textContent = message;
				notification.className = `notification ${type}`;
				notification.style.display = "block";

				setTimeout(() => {
					notification.style.display = "none";
				}, 4000);
			}

			function setLoading(isLoading) {
				const buttons = document.querySelectorAll(".btn");
				buttons.forEach((btn) => {
					if (isLoading) {
						btn.classList.add("loading");
						if (!btn.innerHTML.includes("spinner")) {
							btn.innerHTML =
								'<span class="spinner"></span>' + btn.innerHTML;
						}
					} else {
						btn.classList.remove("loading");
						btn.innerHTML = btn.innerHTML.replace(
							'<span class="spinner"></span>',
							""
						);
					}
				});
			}

			// Keyboard shortcuts
			document.addEventListener("keydown", function (e) {
				if (e.key === "Escape") {
					hideAdminModal();
					hideProjectModal();
					hideBadgeModal();
				}
			});

			// Click outside modals to close
			document
				.getElementById("admin-modal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						hideAdminModal();
					}
				});

			document
				.getElementById("project-modal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						hideProjectModal();
					}
				});

			document
				.getElementById("badge-modal")
				.addEventListener("click", function (e) {
					if (e.target === this) {
						hideBadgeModal();
					}
				});
		</script>
	</body>
</html>
